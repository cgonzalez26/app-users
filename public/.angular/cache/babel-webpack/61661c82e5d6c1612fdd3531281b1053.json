{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"../../services/usuario.service\";\nimport * as i2 from \"./usuario-new/usuario-new.component\";\nimport * as i3 from \"./usuario-list/usuario-list.component\";\nimport * as i4 from \"@angular/common\";\nexport let UsuariosComponent = /*#__PURE__*/(() => {\n  class UsuariosComponent {\n    constructor(_userService) {\n      this._userService = _userService;\n      this.usuarios = [// {id :1, nombre: 'Cristian',apellido:'Gonzalez',email:'cgonzalez@gmail.com',editable:false},\n        // {id :2, nombre: 'Ariel',apellido:'Lopez',email:'alopez@gmail.com',editable:false}\n      ];\n    }\n\n    ngOnInit() {\n      this.getUsuarios();\n    } //creamos nuestro metodo para obtener los Usuarios\n\n\n    getUsuarios() {\n      //vamos hacer la peticion de los datos al server\n      this._userService.getUsuarios().subscribe(response => {\n        this.usuarios = response;\n      });\n    }\n\n    create(usuario) {\n      console.log('Usuario en Usuarios component', usuario);\n\n      this._userService.create(usuario).subscribe(response => {\n        //listamos los Usuarios de la BD mongo\n        this.getUsuarios();\n        console.log('Usuario agregado', response); //this.usuarios.push(usuario);\n      }); //this.usuarios.push(usuario);\n      //this._userService.create(usuario).then(status =>this.getUsuarios())\n\n    }\n\n    borrar(usuario) {\n      //buscar un registro en el array    \n\n      /*const index = this.usuarios.indexOf(usuario);\r\n      console.log('indice ',index);\r\n      this.usuarios.splice(index,1);//remover 1 item\r\n      console.log('lista modificada', this.usuarios);*/\n      //funciona\n      //this.usuarios = this.usuarios.filter(h => h !== usuario);\n      //para mongodb\n      this._userService.destroy(usuario).subscribe(response => {\n        //listamos los Usuarios de la BD mongo\n        this.getUsuarios();\n        console.log('Usuario borrado', response); //this.usuarios.push(usuario);\n      });\n\n      ;\n    }\n\n    actualizar(usuario) {\n      //esto es para Array\n\n      /*const index = this.usuarios.indexOf(usuario.original);\r\n      this.usuarios[index] = usuario.edited;*/\n      //reemplazamos para mongodb\n      this._userService.update(usuario).subscribe(response => {\n        //listamos los Usuarios de la BD mongo\n        this.getUsuarios();\n        console.log('Usuario actualizado', response); //this.usuarios.push(usuario);\n      });\n    }\n\n  }\n\n  UsuariosComponent.ɵfac = function UsuariosComponent_Factory(t) {\n    return new (t || UsuariosComponent)(i0.ɵɵdirectiveInject(i1.UsuarioService));\n  };\n\n  UsuariosComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: UsuariosComponent,\n    selectors: [[\"app-usuarios\"]],\n    decls: 7,\n    vars: 4,\n    consts: [[3, \"createUser\"], [3, \"usuarios\", \"eliminaUsuario\", \"editarUsuario\"]],\n    template: function UsuariosComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"p\");\n        i0.ɵɵtext(1, \"Usuario Componente principal\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(2, \"pre\");\n        i0.ɵɵtext(3);\n        i0.ɵɵpipe(4, \"json\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(5, \"app-usuario-new\", 0);\n        i0.ɵɵlistener(\"createUser\", function UsuariosComponent_Template_app_usuario_new_createUser_5_listener($event) {\n          return ctx.create($event);\n        });\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(6, \"app-usuario-list\", 1);\n        i0.ɵɵlistener(\"eliminaUsuario\", function UsuariosComponent_Template_app_usuario_list_eliminaUsuario_6_listener($event) {\n          return ctx.borrar($event);\n        })(\"editarUsuario\", function UsuariosComponent_Template_app_usuario_list_editarUsuario_6_listener($event) {\n          return ctx.actualizar($event);\n        });\n        i0.ɵɵelementEnd();\n      }\n\n      if (rf & 2) {\n        i0.ɵɵadvance(3);\n        i0.ɵɵtextInterpolate1(\"    \", i0.ɵɵpipeBind1(4, 2, ctx.usuarios), \"\\n\");\n        i0.ɵɵadvance(3);\n        i0.ɵɵproperty(\"usuarios\", ctx.usuarios);\n      }\n    },\n    directives: [i2.UsuarioNewComponent, i3.UsuarioListComponent],\n    pipes: [i4.JsonPipe],\n    styles: [\"\"]\n  });\n  return UsuariosComponent;\n})();","map":null,"metadata":{},"sourceType":"module"}